{{template "header" .}}

<div class="w-full max-w-5xl mx-auto p-8 lg:p-12">
    <!-- Category Title -->
    <h1 class="text-3xl md:text-4xl font-serif text-center text-white mb-2">
        {{.CategoryLabel}}
    </h1>

    <!-- Progress Bar -->
    <div class="max-w-xl mx-auto mb-12">
        <div class="h-1 bg-rr-gray rounded-full overflow-hidden">
            <div class="h-full accent-bg transition-all duration-300" id="progress-fill" style="width: {{.Confidence}}%"></div>
        </div>
        <div class="text-center text-sm text-rr-text-dim mt-3" id="progress-text">
            <span id="progress-count">{{.Progress}}</span> comparisons |
            <span class="accent-text font-medium" id="confidence-text">{{printf "%.0f" .Confidence}}% confident</span>
        </div>
    </div>

    <div id="matchup-container">
        {{template "matchup" .}}
    </div>

    <!-- Navigation Links -->
    <div class="flex justify-center gap-6 mt-12">
        <a href="/categories" class="text-xs uppercase tracking-widest text-rr-text-dim hover:text-rr-pink transition-colors">
            ← Back to Categories
        </a>
        <a href="/results" class="text-xs uppercase tracking-widest text-rr-text-dim hover:text-rr-pink transition-colors">
            View Results →
        </a>
    </div>
</div>

<script>
document.addEventListener('keydown', function(e) {
    if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') return;

    const key = e.key.toLowerCase();

    if (key === 'arrowleft' || key === 'a') {
        e.preventDefault();
        const leftBtn = document.getElementById('left-btn');
        if (leftBtn) leftBtn.click();
    } else if (key === 'arrowright' || key === 'd') {
        e.preventDefault();
        const rightBtn = document.getElementById('right-btn');
        if (rightBtn) rightBtn.click();
    } else if (key === 's') {
        e.preventDefault();
        const sameBtn = document.getElementById('same-btn');
        if (sameBtn) sameBtn.click();
    } else if (key === 'x') {
        e.preventDefault();
        const skipBtn = document.getElementById('skip-btn');
        if (skipBtn) skipBtn.click();
    } else if (key === 'z') {
        e.preventDefault();
        const undoBtn = document.getElementById('undo-btn');
        if (undoBtn) undoBtn.click();
    }
});
</script>

{{template "footer" .}}
